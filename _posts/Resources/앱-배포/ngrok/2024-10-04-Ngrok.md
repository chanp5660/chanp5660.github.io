---
title: Ngrok
create_date: 2024-10-04 22:39
status_complete: false
tags:
- Ngrok
aliases: null
blog: true
mathjax: true
layout: post
---
연결 문서

[Ngrok](https://dashboard.ngrok.com/get-started/setup/windows)
# Ngrok

## 1. Ngrok 개요

**Ngrok**은 로컬에서 실행 중인 애플리케이션을 인터넷에 안전하게 공개할 수 있는 도구로, 로컬 서버와 외부 네트워크 사이에 안전한 터널을 생성하여 HTTP/HTTPS 또는 TCP 요청을 터널링하는 역할을 한다. 주로 웹 개발자나 테스트 환경에서 외부 사용자와 빠르게 공유하고 협업할 때 유용하다.

## 2. Ngrok의 주요 특징

### 2.1. 로컬 호스트 터널링
Ngrok은 로컬 환경에서 돌아가고 있는 웹 애플리케이션을 공용 URL을 통해 외부 네트워크에 노출할 수 있다. 일반적으로 로컬에서 개발된 애플리케이션은 외부에서 접근할 수 없지만, Ngrok을 사용하면 그 애플리케이션을 쉽게 외부 클라이언트나 테스트 사용자와 공유할 수 있다.

### 2.2. URL 매핑 및 유지
Ngrok은 자동으로 무작위 URL을 생성하여 로컬 서버를 외부에서 접근 가능하게 하지만, 고정된 서브도메인(URL)을 통해 서비스하고 싶다면 유료 플랜을 통해 제공받을 수 있다. 예를 들어, `https://custom-name.ngrok.io`와 같은 고정된 URL을 사용할 수 있어, 일관된 접근 경로를 유지할 수 있다.

### 2.3. HTTPS 지원
Ngrok은 HTTP뿐만 아니라 **HTTPS**도 지원하여 보안된 연결을 통해 로컬 애플리케이션에 접근할 수 있게 한다. 이는 특히 보안이 중요한 프로젝트나 외부 API를 활용할 때 매우 유용하다.

### 2.4. 실시간 요청 검사 및 디버깅
Ngrok은 모든 요청을 기록하고 대시보드에서 실시간으로 HTTP 요청 및 응답을 모니터링할 수 있는 기능을 제공한다. 이를 통해 개발자는 각 요청의 상태, 응답 코드, 헤더 및 바디 내용을 실시간으로 확인하고, 디버깅에 활용할 수 있다.

### 2.5. 프로토콜 지원
Ngrok은 기본적으로 HTTP와 HTTPS 프로토콜을 지원하며, TCP와 같은 비HTTP 트래픽도 터널링할 수 있다. 이를 통해 웹 애플리케이션뿐만 아니라 다양한 네트워크 서비스에도 활용될 수 있다.

## 3. Ngrok의 동작 원리

### 3.1. 터널링 프로세스
Ngrok의 기본적인 동작 방식은 아래와 같다:
1. **로컬 서버 설정**: 로컬에서 애플리케이션을 실행하면, 이는 보통 `localhost:포트번호`로 접근할 수 있다.
2. **Ngrok 터널링 시작**: Ngrok 클라이언트를 설치하고, 특정 포트(예: `localhost:8080`)를 지정하여 Ngrok을 실행하면, Ngrok 서버에 터널을 생성하고, 해당 터널을 통해 외부에서 접근 가능한 공용 URL이 생성된다.
3. **외부 요청 처리**: 외부 사용자가 이 공용 URL로 요청을 보내면, 그 요청은 Ngrok 서버를 통해 로컬 서버로 전달되고, 로컬 서버의 응답을 다시 외부 사용자의 브라우저로 전송한다.

### 3.2. 터널 보안
Ngrok은 데이터 전송 시 SSL/TLS 암호화를 사용하여 터널링된 트래픽이 보호되도록 한다. 또한, IP 제한 및 인증 토큰을 사용하여 특정 사용자만 터널에 접근할 수 있도록 제어할 수 있다.

## 4. Ngrok의 사용 사례

### 4.1. 웹훅(Webhook) 개발 및 테스트
웹훅은 특정 이벤트가 발생했을 때 서버가 외부로 알림을 보내는 기능이다. 그러나 웹훅을 개발하는 동안 외부 서버에서 로컬 서버로 요청을 테스트하는 것이 쉽지 않다. Ngrok을 이용하면 외부에서 직접 로컬 서버로 웹훅 요청을 보낼 수 있어 실시간으로 테스트할 수 있다.

### 4.2. 외부 피드백 및 협업
로컬에서 개발 중인 웹 애플리케이션을 외부 클라이언트나 팀원에게 실시간으로 공유하고 싶을 때, Ngrok을 통해 외부에서 접속 가능한 URL을 생성하여 빠르게 보여줄 수 있다. 특히 디자인 피드백이나 간단한 기능 시연이 필요할 때 유용하다.

### 4.3. 방화벽 뒤에 있는 서버 접근
로컬 서버가 방화벽이나 NAT(Network Address Translation) 뒤에 있더라도, Ngrok을 사용하면 외부에서 이 서버에 접근할 수 있다. 이를 통해 사내 네트워크 안에 있는 서버나 개발 환경을 외부 클라이언트와 공유할 수 있다.

## 5. Ngrok의 장점 및 단점

### 5.1. 장점
- **빠르고 간편한 설정**: 설치와 설정이 매우 간단하며, 몇 분 내로 로컬 서버를 외부에 공개할 수 있다.
- **HTTPS 지원**: 자동으로 HTTPS를 적용하여 보안된 연결을 사용할 수 있다.
- **실시간 요청 검사**: 요청 및 응답 로그를 실시간으로 확인하여 빠른 디버깅이 가능하다.
- **다양한 프로토콜 지원**: HTTP뿐만 아니라 TCP 등의 비HTTP 트래픽도 터널링할 수 있다.
- **무료로 시작 가능**: 기본적인 기능은 무료로 제공되며, 일부 고급 기능은 유료 플랜에서 제공된다.

### 5.2. 단점
- **속도 및 성능**: 무료 플랜에서는 속도가 제한될 수 있으며, 트래픽 양이 많은 경우 성능에 제한이 있다.
- **보안 이슈**: 잘못된 설정이나 관리 부족으로 인한 보안 문제가 발생할 수 있다. 예를 들어, 터널을 제대로 보호하지 않으면 외부로부터의 무단 접근이 가능하다.
- **공유 URL 만료**: 무료 플랜에서는 Ngrok이 생성한 URL이 세션이 종료되면 만료되며, 이를 해결하려면 유료 플랜에서 고정된 서브도메인을 구매해야 한다.

## 6. Ngrok 사용 방법

### 6.1. 설치 및 기본 사용
1. **설치**: Ngrok은 Windows, macOS, Linux에서 사용할 수 있으며, 공식 웹사이트에서 설치 파일을 다운로드하거나 Homebrew, apt 등 패키지 관리자를 통해 설치할 수 있다.
   ```bash
   brew install ngrok/ngrok/ngrok   # macOS에서 Homebrew 설치 예시
   ```

2. **Ngrok 실행**: 로컬에서 웹 애플리케이션이 `localhost:8080`에서 실행 중인 경우, 아래 명령어로 터널을 시작할 수 있다.
   ```bash
   ngrok http 8080
   ```

3. **결과 확인**: 명령어를 실행하면 Ngrok이 터널을 생성하고, HTTP와 HTTPS로 접근 가능한 공용 URL을 출력한다.
   ```bash
   Forwarding                    http://abcd1234.ngrok.io -> localhost:8080
   ```

4. **대시보드 사용**: `http://localhost:4040`을 브라우저에서 열면, 실시간 요청 및 응답을 확인할 수 있는 대시보드가 제공된다.

### 6.2. 고급 기능 사용
- **고정 서브도메인**: 유료 플랜을 통해 고정된 서브도메인을 설정하고, 매번 새로운 URL을 생성할 필요 없이 일정한 주소로 로컬 서버에 접근할 수 있다.
   ```bash
   ngrok http -subdomain=myapp 8080
   ```

- **인증**: 터널 접근에 대한 인증을 추가하여, 특정 사용자만 접근할 수 있도록 설정할 수 있다.
   ```bash
   ngrok http -auth="username:password" 8080
   ```

## 7. 결론
Ngrok은 개발자가 로컬 환경에서 실행 중인 애플리케이션을 외부 네트워크에서 접근할 수 있게 해주는 간편하고 유용한 도구이다. 웹훅 테스트, 외부 협업, 방화벽 뒤 서버 접근 등 다양한 상황에서 효과적으로 사용될 수 있으며, 빠른 디버깅 및 요청 분석을 통해 개발 과정을 더욱 효율적으로 진행할 수 있다.
