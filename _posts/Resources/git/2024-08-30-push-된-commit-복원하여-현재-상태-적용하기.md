---
title: push 된 commit 복원하여 현재 상태 적용하기
create_date: 2024-08-30 17:46
status_complete: false
tags:
- git
aliases: null
blog: true
mathjax: true
layout: post
toc:
  sidebar: left
---
연결 문서


# push 된 commit 복원하여 현재 상태 적용하기

현재 변경된 내용을 저장하면서도 커밋 메시지를 수정하기 위해 몇 가지 단계를 거쳐야 함. 설명한 내용을 기반으로 다음과 같이 진행할 수 있음.

### 현재 변경 내용을 임시 저장 (Stash)
현재 작업 중인 내용을 임시로 저장하고, 이전 커밋으로 되돌리기 위해 stash 기능을 사용함.

```bash
git stash
```
이 명령어는 현재 작업 중인 변경 사항을 임시로 저장함. 이제 작업 디렉토리는 깨끗한 상태로 돌아감.

### 이전 커밋으로 되돌리기
이제 바로 전의 커밋으로 돌아가서, 원격 저장소에도 반영해야 함.

```bash
git reset --hard HEAD~1
git push --force
```
- `git reset --hard HEAD~1`: 현재 브랜치를 이전 커밋으로 되돌림.
- `git push --force`: 로컬에서 되돌린 상태를 원격 저장소에 강제로 푸시함.

### 임시로 저장한 변경 사항 불러오기
이제 임시로 저장한 변경 사항을 다시 가져와야 함.

```bash
git stash pop
```
이 명령어는 이전에 stash 했던 내용을 다시 불러옴. 이제 작업 디렉토리가 원래 작업 중이던 상태로 돌아옴.

### 새로운 커밋 생성 및 푸시
변경된 내용을 새로운 커밋 메시지와 함께 커밋하고 푸시함.

```bash
git add .
git commit -m "새로운 커밋 메시지"
git push
```
- `git add .`: 모든 변경된 파일을 스테이징 영역에 추가함.
- `git commit -m "새로운 커밋 메시지"`: 새로운 커밋 메시지로 커밋을 생성함.
- `git push`: 원격 저장소에 변경 사항을 푸시함.

### 요약
이 과정을 통해, 현재 작업 내용을 안전하게 저장하면서 이전 커밋으로 되돌리고, 새로운 커밋 메시지로 커밋을 생성할 수 있음. 이렇게 하면 동일한 커밋 메시지 문제를 피하면서도 원하는 변경 사항을 유지할 수 있음.